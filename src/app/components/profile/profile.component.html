<section id="page-profile" class="h-entry section section-type-page">
  <div class="section-inner">
    <div class="section-main">
      <header class="section-header">
        <div class="main-title-bar">
          <div class="main-title-dot"></div>
          <h1 itemprop="name">
            <span class="section-title">Profile</span>
          </h1>
        </div>
      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        <div class="account-info">
          <p><strong>Public Key:</strong> <span class="key">{{ publicKey }}</span></p>
          <div *ngIf="metadata" class="profile-container">
            <img *ngIf="metadata.banner" class="profile-banner" [src]="metadata.banner" alt="Banner">
            <img *ngIf="metadata.picture" class="profile-picture" [src]="metadata.picture" alt="Profile Picture">
            <div class="profile-details">
              <div class="main-title-bar">
                <div class="main-title-dot"></div>
                <h1 class="p-name section-title" itemprop="headline name">{{ metadata.name }}</h1>
              </div>
              <div class="e-content section-entry">
                <p>{{ metadata.about }}</p>
              </div>
              <div class="additional-info">
                <p *ngIf="metadata.contact"><strong>Contact:</strong> {{ metadata.contact }}</p>
                <p *ngIf="metadata.website"><strong>Website:</strong> <a [href]="metadata.website" target="_blank">{{ metadata.website }}</a></p>
              </div>
            </div>
          </div>
        </div>

        <div class="event-section">
          <textarea [(ngModel)]="eventContent" placeholder="Enter your event content" class="input-textarea"></textarea>
          <button class="action-button" (click)="signAndPublishEvent()">Sign and Publish Event</button>
          <p *ngIf="publishedEventContent"><strong>Published Event:</strong> <span class="key">{{ publishedEventContent }}</span></p>
        </div>

        <div>
          <h2>Followers {{followers.length}}</h2>
          <ul class="followers-list">
            <!-- <li *ngFor="let follower of followers">
              <span class="key">{{ follower.nostrPubKey }}</span>
            </li> -->
          </ul>
        </div>

        <div>
          <h2>Following {{following.length}}</h2>
          <ul class="following-list">
            <!-- <li *ngFor="let follow of following">
              <span class="key">{{ follow.nostrPubKey }}</span>
            </li> -->
          </ul>
        </div>

        <div>
          <h2>Events</h2>
          <ul class="event-list">
            <li *ngFor="let event of events" class="event-item">
              <pre>{{ event.content }}</pre>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>
